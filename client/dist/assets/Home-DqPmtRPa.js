import{r as a,j as e,u as p,S as N}from"./index-tqXRR1Pi.js";import{u as x}from"./format-NXNzsY0c.js";import{E as d,P as f,a as b}from"./EmptyState-HJXhkYQx.js";function j({onSearch:s,placeholder:t="Search posts..."}){const[n,i]=a.useState("");return a.useEffect(()=>{const o=setTimeout(()=>{s(n)},300);return()=>clearTimeout(o)},[n,s]),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/SearchBar.jsx",lineNumber:23,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/SearchBar.jsx",lineNumber:17,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/SearchBar.jsx",lineNumber:16,columnNumber:7},this),e.jsxDEV("input",{type:"text",value:n,onChange:o=>i(o.target.value),className:"input pl-10",placeholder:t},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/SearchBar.jsx",lineNumber:31,columnNumber:7},this),n&&e.jsxDEV("button",{onClick:()=>i(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/SearchBar.jsx",lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/SearchBar.jsx",lineNumber:43,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/SearchBar.jsx",lineNumber:39,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/SearchBar.jsx",lineNumber:15,columnNumber:5},this)}function w(){const[s,t]=a.useState({page:1,search:""}),{posts:n,pagination:i,loading:o,refetch:l}=x(),{isAuthenticated:m}=p(),u=a.useCallback(r=>{t(c=>({...c,search:r,page:1})),l({search:r,page:1})},[l]),h=a.useCallback(r=>{t(c=>({...c,page:r})),l({...s,page:r}),window.scrollTo({top:0,behavior:"smooth"})},[l,s]);return e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-center mb-12",children:[e.jsxDEV("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:["Welcome to ",e.jsxDEV("span",{className:"text-primary-600",children:"BlogApp"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:31,columnNumber:22},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:30,columnNumber:9},this),e.jsxDEV("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover amazing stories, share your thoughts, and connect with writers from around the world."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:33,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:29,columnNumber:7},this),e.jsxDEV("div",{className:"max-w-xl mx-auto mb-8",children:e.jsxDEV(j,{onSearch:u,placeholder:"Search by title or username..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:40,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:39,columnNumber:7},this),o?e.jsxDEV("div",{className:"flex justify-center py-16",children:e.jsxDEV(N,{size:"lg"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:48,columnNumber:9},this):n.length===0?e.jsxDEV(d,{icon:"ðŸ”",title:s.search?"No posts found":"No posts yet",description:s.search?"Try adjusting your search terms":"Be the first to share your story!",actionText:m?"Create Post":"Sign up to create",actionLink:m?"/create":"/register"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:52,columnNumber:9},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(r=>e.jsxDEV(f,{post:r},r._id,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:67,columnNumber:15},this))},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:65,columnNumber:11},this),e.jsxDEV(b,{pagination:i,onPageChange:h},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Home.jsx",lineNumber:27,columnNumber:5},this)}export{w as default};
