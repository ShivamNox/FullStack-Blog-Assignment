import{b as x,r as f,j as s,p as N,z as t}from"./index-tqXRR1Pi.js";import{P as b}from"./PostForm-CPG-dn-u.js";function j(){const m=x(),[u,a]=f.useState(!1),d=async p=>{var r,o,i,l;try{a(!0);const e=await N.create(p);t.success("Post created successfully!"),m(`/posts/${e.data.data.post.slug||e.data.data.post._id}`)}catch(e){const h=((o=(r=e.response)==null?void 0:r.data)==null?void 0:o.message)||"Failed to create post",n=(l=(i=e.response)==null?void 0:i.data)==null?void 0:l.details;n?n.forEach(c=>t.error(`${c.field}: ${c.message}`)):t.error(h)}finally{a(!1)}};return s.jsxDEV("div",{className:"max-w-2xl mx-auto",children:[s.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Post"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/CreatePost.jsx",lineNumber:33,columnNumber:7},this),s.jsxDEV("p",{className:"text-gray-600 mb-8",children:"Share your thoughts with the world"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/CreatePost.jsx",lineNumber:34,columnNumber:7},this),s.jsxDEV("div",{className:"card p-6 md:p-8",children:s.jsxDEV(b,{onSubmit:d,isLoading:u,submitText:"Publish Post"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/CreatePost.jsx",lineNumber:37,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/CreatePost.jsx",lineNumber:36,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/CreatePost.jsx",lineNumber:32,columnNumber:5},this)}export{j as default};
