import{r as i,j as e}from"./index-tqXRR1Pi.js";const b={title:"",imageURL:"",content:""};function j({initialData:s,onSubmit:h,isLoading:c,submitText:N="Submit"}){const[t,a]=i.useState(b),[n,u]=i.useState({});i.useEffect(()=>{s&&a({title:s.title||"",imageURL:s.imageURL||"",content:s.content||""})},[s]);const p=()=>{const r={};if(t.title.trim()?t.title.length<5?r.title="Title must be at least 5 characters":t.title.length>120&&(r.title="Title cannot exceed 120 characters"):r.title="Title is required",t.imageURL.trim())try{new URL(t.imageURL)}catch{r.imageURL="Please enter a valid URL"}return t.content.trim()?t.content.length<50&&(r.content=`Content must be at least 50 characters (${t.content.length}/50)`):r.content="Content is required",u(r),Object.keys(r).length===0},m=r=>{const{name:o,value:d}=r.target;a(l=>({...l,[o]:d})),n[o]&&u(l=>({...l,[o]:""}))},x=async r=>{if(r.preventDefault(),!p())return;const o={...t,imageURL:t.imageURL.trim()||void 0};h(o)};return e.jsxDEV("form",{onSubmit:x,className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"title",className:"label",children:["Title ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:78,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:77,columnNumber:9},this),e.jsxDEV("input",{type:"text",id:"title",name:"title",value:t.title,onChange:m,className:`input ${n.title?"input-error":""}`,placeholder:"Enter a compelling title...",maxLength:120},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:80,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-between mt-1",children:[n.title&&e.jsxDEV("p",{className:"error-text",children:n.title},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:91,columnNumber:28},this),e.jsxDEV("span",{className:"text-xs text-gray-400 ml-auto",children:[t.title.length,"/120"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:76,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"imageURL",className:"label",children:["Image URL ",e.jsxDEV("span",{className:"text-gray-400",children:"(optional)"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:100,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:99,columnNumber:9},this),e.jsxDEV("input",{type:"url",id:"imageURL",name:"imageURL",value:t.imageURL,onChange:m,className:`input ${n.imageURL?"input-error":""}`,placeholder:"https://example.com/image.jpg"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:102,columnNumber:9},this),n.imageURL&&e.jsxDEV("p",{className:"error-text",children:n.imageURL},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:111,columnNumber:29},this),t.imageURL&&!n.imageURL&&e.jsxDEV("div",{className:"mt-2 rounded-lg overflow-hidden border border-gray-200",children:e.jsxDEV("img",{src:t.imageURL,alt:"Preview",className:"w-full h-48 object-cover",onError:r=>{r.target.style.display="none"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:114,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:98,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"content",className:"label",children:["Content ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:128,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:127,columnNumber:9},this),e.jsxDEV("textarea",{id:"content",name:"content",value:t.content,onChange:m,className:`input min-h-[200px] resize-y ${n.content?"input-error":""}`,placeholder:"Write your blog post content here (minimum 50 characters)..."},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:130,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-between mt-1",children:[n.content&&e.jsxDEV("p",{className:"error-text",children:n.content},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:139,columnNumber:30},this),e.jsxDEV("span",{className:`text-xs ml-auto ${t.content.length<50?"text-red-400":"text-gray-400"}`,children:[t.content.length,"/50 min"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:140,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:138,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:126,columnNumber:7},this),e.jsxDEV("button",{type:"submit",disabled:c,className:"btn-primary w-full py-3 text-lg",children:c?e.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin w-5 h-5",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:154,columnNumber:15},this),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:153,columnNumber:13},this),"Processing..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:152,columnNumber:11},this):N},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:146,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/PostForm.jsx",lineNumber:75,columnNumber:5},this)}export{j as P};
