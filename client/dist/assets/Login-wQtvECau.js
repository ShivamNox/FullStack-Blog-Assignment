import{b as E,d as L,u as k,r as m,j as e,L as D,z as h}from"./index-tqXRR1Pi.js";function y(){var p,d;const g=E(),b=L(),{login:x}=k(),[t,c]=m.useState(!1),[i,f]=m.useState({login:"",password:""}),[r,l]=m.useState({}),j=((d=(p=b.state)==null?void 0:p.from)==null?void 0:d.pathname)||"/",w=()=>{const s={};return i.login.trim()||(s.login="Email or username is required"),i.password||(s.password="Password is required"),l(s),Object.keys(s).length===0},u=s=>{const{name:n,value:o}=s.target;f(a=>({...a,[n]:o})),r[n]&&l(a=>({...a,[n]:""}))},v=async s=>{var n,o;if(s.preventDefault(),!!w())try{c(!0),await x(i),h.success("Welcome back!"),g(j,{replace:!0})}catch(a){const N=((o=(n=a.response)==null?void 0:n.data)==null?void 0:o.message)||"Login failed";h.error(N),N.includes("credentials")&&l({password:"Invalid email/username or password"})}finally{c(!1)}};return e.jsxDEV("div",{className:"max-w-md mx-auto",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:67,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600",children:"Sign in to continue to your account"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:68,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:66,columnNumber:7},this),e.jsxDEV("div",{className:"card p-6 md:p-8",children:[e.jsxDEV("form",{onSubmit:v,className:"space-y-5",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"login",className:"label",children:"Email or Username"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:74,columnNumber:13},this),e.jsxDEV("input",{type:"text",id:"login",name:"login",value:i.login,onChange:u,className:`input ${r.login?"input-error":""}`,placeholder:"Enter your email or username",autoComplete:"username"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:77,columnNumber:13},this),r.login&&e.jsxDEV("p",{className:"error-text",children:r.login},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:87,columnNumber:30},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:73,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password",className:"label",children:"Password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:91,columnNumber:13},this),e.jsxDEV("input",{type:"password",id:"password",name:"password",value:i.password,onChange:u,className:`input ${r.password?"input-error":""}`,placeholder:"Enter your password",autoComplete:"current-password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:94,columnNumber:13},this),r.password&&e.jsxDEV("p",{className:"error-text",children:r.password},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:104,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:90,columnNumber:11},this),e.jsxDEV("button",{type:"submit",disabled:t,className:"btn-primary w-full py-3",children:t?e.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin w-5 h-5",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:115,columnNumber:19},this),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:124,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:114,columnNumber:17},this),"Signing in..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:113,columnNumber:15},this):"Sign In"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:107,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:72,columnNumber:9},this),e.jsxDEV("div",{className:"mt-6 text-center",children:e.jsxDEV("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsxDEV(D,{to:"/register",className:"text-primary-600 font-medium hover:underline",children:"Create one"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:139,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:138,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:71,columnNumber:7},this),e.jsxDEV("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsxDEV("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Demo Credentials"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:150,columnNumber:9},this),e.jsxDEV("p",{className:"text-sm text-blue-600",children:["Email: demo@example.com",e.jsxDEV("br",{},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:152,columnNumber:34},this),"Password: password123"]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:151,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:149,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Login.jsx",lineNumber:65,columnNumber:5},this)}export{y as default};
