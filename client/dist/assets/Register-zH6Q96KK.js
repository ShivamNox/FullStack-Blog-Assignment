import{b as k,u as D,r as o,j as e,L as R,z as g}from"./index-tqXRR1Pi.js";function y(){const x=k(),{register:b}=D(),[c,u]=o.useState(!1),[s,w]=o.useState({username:"",email:"",password:"",confirmPassword:""}),[a,t]=o.useState({}),j=()=>{const r={};return s.username.trim()?s.username.length<3?r.username="Username must be at least 3 characters":s.username.length>30?r.username="Username cannot exceed 30 characters":/^[a-zA-Z0-9_]+$/.test(s.username)||(r.username="Username can only contain letters, numbers, and underscores"):r.username="Username is required",s.email.trim()?/^\S+@\S+\.\S+$/.test(s.email)||(r.email="Please enter a valid email"):r.email="Email is required",s.password?s.password.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",s.password!==s.confirmPassword&&(r.confirmPassword="Passwords do not match"),t(r),Object.keys(r).length===0},l=r=>{const{name:i,value:m}=r.target;w(n=>({...n,[i]:m})),a[i]&&t(n=>({...n,[i]:""}))},v=async r=>{var i,m,n,d;if(r.preventDefault(),!!j())try{u(!0),await b({username:s.username,email:s.email,password:s.password}),g.success("Account created successfully!"),x("/")}catch(p){const E=((m=(i=p.response)==null?void 0:i.data)==null?void 0:m.message)||"Registration failed",h=(d=(n=p.response)==null?void 0:n.data)==null?void 0:d.details;if(h){const N={};h.forEach(f=>{N[f.field]=f.message}),t(N)}else g.error(E)}finally{u(!1)}};return e.jsxDEV("div",{className:"max-w-md mx-auto",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:94,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600",children:"Join our community of writers"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:95,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:93,columnNumber:7},this),e.jsxDEV("div",{className:"card p-6 md:p-8",children:[e.jsxDEV("form",{onSubmit:v,className:"space-y-5",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"username",className:"label",children:"Username"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:101,columnNumber:13},this),e.jsxDEV("input",{type:"text",id:"username",name:"username",value:s.username,onChange:l,className:`input ${a.username?"input-error":""}`,placeholder:"Choose a username",autoComplete:"username"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:104,columnNumber:13},this),a.username&&e.jsxDEV("p",{className:"error-text",children:a.username},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:114,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:100,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"email",className:"label",children:"Email"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:118,columnNumber:13},this),e.jsxDEV("input",{type:"email",id:"email",name:"email",value:s.email,onChange:l,className:`input ${a.email?"input-error":""}`,placeholder:"Enter your email",autoComplete:"email"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:121,columnNumber:13},this),a.email&&e.jsxDEV("p",{className:"error-text",children:a.email},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:131,columnNumber:30},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:117,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password",className:"label",children:"Password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:135,columnNumber:13},this),e.jsxDEV("input",{type:"password",id:"password",name:"password",value:s.password,onChange:l,className:`input ${a.password?"input-error":""}`,placeholder:"Create a password (min 6 characters)",autoComplete:"new-password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:138,columnNumber:13},this),a.password&&e.jsxDEV("p",{className:"error-text",children:a.password},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:148,columnNumber:33},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:134,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"confirmPassword",className:"label",children:"Confirm Password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:152,columnNumber:13},this),e.jsxDEV("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:l,className:`input ${a.confirmPassword?"input-error":""}`,placeholder:"Confirm your password",autoComplete:"new-password"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:155,columnNumber:13},this),a.confirmPassword&&e.jsxDEV("p",{className:"error-text",children:a.confirmPassword},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:165,columnNumber:40},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:151,columnNumber:11},this),e.jsxDEV("button",{type:"submit",disabled:c,className:"btn-primary w-full py-3",children:c?e.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin w-5 h-5",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:176,columnNumber:19},this),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:185,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:175,columnNumber:17},this),"Creating account..."]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:174,columnNumber:15},this):"Create Account"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:99,columnNumber:9},this),e.jsxDEV("div",{className:"mt-6 text-center",children:e.jsxDEV("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsxDEV(R,{to:"/login",className:"text-primary-600 font-medium hover:underline",children:"Sign in"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:202,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:200,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:98,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/Register.jsx",lineNumber:92,columnNumber:5},this)}export{y as default};
